/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const e=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,c=r>>2,l=(3&r)<<4|o>>4;let u=(15&o)<<2|h>>6,d=63&h;a||(d=64,s||(u=64)),i.push(n[c],n[l],n[u],n[d])}return i.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(e(t),n)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const s=n[t.charAt(e++)],o=e<t.length?n[t.charAt(e)]:0;++e;const a=e<t.length?n[t.charAt(e)]:64;++e;const h=e<t.length?n[t.charAt(e)]:64;if(++e,null==s||null==o||null==a||null==h)throw new i;const c=s<<2|o>>4;if(r.push(c),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==h){const t=a<<6&192|h;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r=function(t){return function(t){const i=e(t);return n.encodeByteArray(i,!0)}(t).replace(/\./g,"")},s=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t.g)return t.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&function(t){try{return n.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},o=()=>{var t;return null===(t=s())||void 0===t?void 0:t.config};class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}class h extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,h.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c.prototype.create)}}class c{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(l,(t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new h(i,o,n)}}const l=/\{\$([^}]+)}/g;function u(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(d(n)&&d(s)){if(!u(n,s))return!1}else if(n!==s)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function d(t){return null!==t&&"object"==typeof t}class f{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const p="[DEFAULT]";class g{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new a;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:p})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=p){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t=p){return this.instances.has(t)}getOptions(t=p){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(i);return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===p?void 0:i),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var i;return n||null}normalizeInstanceIdentifier(t=p){return this.component?this.component.multipleInstances?t:p:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new g(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const v=[];var y;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(y||(y={}));const w={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},_=y.INFO,E={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},b=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=E[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};let I,T;const S=new WeakMap,C=new WeakMap,A=new WeakMap,k=new WeakMap,R=new WeakMap;let O={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return C.get(t);if("objectStoreNames"===e)return t.objectStoreNames||A.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return P(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function N(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(T||(T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(L(this),t),P(S.get(this))}:function(...t){return P(e.apply(L(this),t))}:function(t,...n){const i=e.call(L(this),t,...n);return A.set(i,t.sort?t.sort():[t]),P(i)}:(t instanceof IDBTransaction&&function(t){if(C.has(t))return;const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});C.set(t,e)}(t),n=t,(I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>n instanceof t)?new Proxy(t,O):t);var e,n}function P(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(P(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&S.set(e,t)}).catch(()=>{}),R.set(e,t),e}(t);if(k.has(t))return k.get(t);const e=N(t);return e!==t&&(k.set(t,e),R.set(e,t)),e}const L=t=>R.get(t),D=["get","getKey","getAll","getAllKeys","count"],M=["put","add","delete","clear"],U=new Map;function x(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(U.get(e))return U.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=M.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!D.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),r&&s.done]))[0]};return U.set(e,s),s}var F;F=O,O={...F,get:(t,e,n)=>x(t,e)||F.get(t,e,n),has:(t,e)=>!!x(t,e)||F.has(t,e)};class j{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const B="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",H="0.9.25",V=new class{constructor(t){this.name=t,this._logLevel=_,this._logHandler=b,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in y))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?w[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...t),this._logHandler(this,y.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...t),this._logHandler(this,y.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,y.INFO,...t),this._logHandler(this,y.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,y.WARN,...t),this._logHandler(this,y.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...t),this._logHandler(this,y.ERROR,...t)}}("https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"),$="@firebase/app-compat",W="@firebase/analytics-compat",z="@firebase/analytics",K="@firebase/app-check-compat",q="@firebase/app-check",G="@firebase/auth",J="@firebase/auth-compat",X="@firebase/database",Y="@firebase/database-compat",Q="@firebase/functions",Z="@firebase/functions-compat",tt="@firebase/installations",et="@firebase/installations-compat",nt="@firebase/messaging",it="@firebase/messaging-compat",rt="@firebase/performance",st="@firebase/performance-compat",ot="@firebase/remote-config",at="@firebase/remote-config-compat",ht="@firebase/storage",ct="@firebase/storage-compat",lt="@firebase/firestore",ut="@firebase/firestore-compat",dt="firebase",ft="[DEFAULT]",pt={[B]:"fire-core",[$]:"fire-core-compat",[z]:"fire-analytics",[W]:"fire-analytics-compat",[q]:"fire-app-check",[K]:"fire-app-check-compat",[G]:"fire-auth",[J]:"fire-auth-compat",[X]:"fire-rtdb",[Y]:"fire-rtdb-compat",[Q]:"fire-fn",[Z]:"fire-fn-compat",[tt]:"fire-iid",[et]:"fire-iid-compat",[nt]:"fire-fcm",[it]:"fire-fcm-compat",[rt]:"fire-perf",[st]:"fire-perf-compat",[ot]:"fire-rc",[at]:"fire-rc-compat",[ht]:"fire-gcs",[ct]:"fire-gcs-compat",[lt]:"fire-fst",[ut]:"fire-fst-compat","fire-js":"fire-js",[dt]:"fire-js-all"},gt=new Map,mt=new Map;function vt(t,e){try{t.container.addComponent(e)}catch(n){V.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yt(t){const e=t.name;if(mt.has(e))return V.debug(`There were multiple attempts to register component ${e}.`),!1;mt.set(e,t);for(const e of gt.values())vt(e,t);return!0}function wt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const _t=new c("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Et{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new f("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const bt="10.7.1";function It(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:ft,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw _t.create("bad-app-name",{appName:String(r)});if(n||(n=o()),!n)throw _t.create("no-options");const s=gt.get(r);if(s){if(u(n,s.options)&&u(i,s.config))return s;throw _t.create("duplicate-app",{appName:r})}const a=new m(r);for(const t of mt.values())a.addComponent(t);const h=new Et(n,i,a);return gt.set(r,h),h}function Tt(t=ft){const e=gt.get(t);if(!e&&t===ft&&o())return It();if(!e)throw _t.create("no-app",{appName:t});return e}function St(t,e,n){var i;let r=null!==(i=pt[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${e}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void V.warn(t.join(" "))}yt(new f(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Ct="firebase-heartbeat-store";let At=null;function kt(){return At||(At=function(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=P(o);return i&&o.addEventListener("upgradeneeded",t=>{i(P(o.result),t.oldVersion,t.newVersion,P(o.transaction),t)}),n&&o.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),a.then(t=>{s&&t.addEventListener("close",()=>s()),r&&t.addEventListener("versionchange",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ct)}}).catch(t=>{throw _t.create("idb-open",{originalErrorMessage:t.message})})),At}async function Rt(t,e){try{const n=(await kt()).transaction(Ct,"readwrite"),i=n.objectStore(Ct);await i.put(e,Ot(t)),await n.done}catch(t){if(t instanceof h)V.warn(t.message);else{const e=_t.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});V.warn(e.message)}}}function Ot(t){return`${t.name}!${t.options.appId}`}class Nt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Lt(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pt();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some(t=>t.date===i))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Pt(),{heartbeatsToSend:n,unsentEntries:i}=function(t,e=1024){const n=[];let i=t.slice();for(const r of t){const t=n.find(t=>t.agent===r.agent);if(t){if(t.dates.push(r.date),Dt(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Dt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),s=r(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Pt(){return(new Date).toISOString().substring(0,10)}class Lt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}()&&new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=await kt();return await e.transaction(Ct).objectStore(Ct).get(Ot(t))}catch(t){if(t instanceof h)V.warn(t.message);else{const e=_t.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});V.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Rt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Dt(t){return r(JSON.stringify({version:2,heartbeats:t})).length}var Mt,Ut;yt(new f("platform-logger",t=>new j(t),"PRIVATE")),yt(new f("heartbeat",t=>new Nt(t),"PRIVATE")),St(B,H,""),St(B,H,"esm2017"),St("fire-js",""),St("firebase","10.7.1","cdn"),(Ut=Mt||(Mt={}))[Ut.DEBUG=0]="DEBUG",Ut[Ut.VERBOSE=1]="VERBOSE",Ut[Ut.INFO=2]="INFO",Ut[Ut.WARN=3]="WARN",Ut[Ut.ERROR=4]="ERROR",Ut[Ut.SILENT=5]="SILENT";const xt={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Ft=Mt.INFO,jt={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Bt=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=jt[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class Ht extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace($t,(t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,o,n)}}const $t=/\{\$([^}]+)}/g;function Wt(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(zt(n)&&zt(s)){if(!Wt(n,s))return!1}else if(n!==s)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function zt(t){return null!==t&&"object"==typeof t}function Kt(t,e=1e3,n=2){const i=e*Math.pow(n,t),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function qt(t){return t&&t._delegate?t._delegate:t}class Gt{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}let Jt,Xt;const Yt=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,te=new WeakMap,ee=new WeakMap;let ne={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Qt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Zt.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ie(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ie(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(ie(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&Yt.set(e,t)}).catch(()=>{}),ee.set(e,t),e}(t);if(te.has(t))return te.get(t);const e=function(t){return"function"==typeof t?function(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Xt||(Xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(re(this),e),ie(Yt.get(this))}:function(...e){return ie(t.apply(re(this),e))}:function(e,...n){const i=t.call(re(this),e,...n);return Zt.set(i,e.sort?e.sort():[e]),ie(i)}}(t):(t instanceof IDBTransaction&&function(t){if(Qt.has(t))return;const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});Qt.set(t,e)}(t),e=t,(Jt||(Jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,ne):t);var e}(t);return e!==t&&(te.set(t,e),ee.set(e,t)),e}const re=t=>ee.get(t),se=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],ae=new Map;function he(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ae.get(e))return ae.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=oe.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!se.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),r&&s.done]))[0]};return ae.set(e,s),s}ne=(t=>({...t,get:(e,n,i)=>he(e,n)||t.get(e,n,i),has:(e,n)=>!!he(e,n)||t.has(e,n)}))(ne);const ce="@firebase/installations",le=new Vt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ue(t){return t instanceof Ht&&t.code.includes("request-failed")}function de({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function fe(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function pe(t,e){const n=(await e.json()).error;return le.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ge({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function me(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ve(t){return new Promise(e=>{setTimeout(e,t)})}const ye=/^[cdef][\w-]{21}$/;function we(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return ye.test(e)?e:""}catch(t){return""}}function _e(t){return`${t.appName}!${t.appId}`}const Ee=new Map;function be(t,e){const n=_e(t);Ie(n,e),function(t,e){const n=(!Te&&"BroadcastChannel"in self&&(Te=new BroadcastChannel("[Firebase] FID Change"),Te.onmessage=t=>{Ie(t.data.key,t.data.fid)}),Te);n&&n.postMessage({key:t,fid:e}),0===Ee.size&&Te&&(Te.close(),Te=null)}(n,e)}function Ie(t,e){const n=Ee.get(t);if(n)for(const t of n)t(e)}let Te=null;const Se="firebase-installations-store";let Ce=null;function Ae(){return Ce||(Ce=function(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ie(o);return i&&o.addEventListener("upgradeneeded",t=>{i(ie(o.result),t.oldVersion,t.newVersion,ie(o.transaction),t)}),n&&o.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),a.then(t=>{s&&t.addEventListener("close",()=>s()),r&&t.addEventListener("versionchange",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Se)}})),Ce}async function ke(t,e){const n=_e(t),i=(await Ae()).transaction(Se,"readwrite"),r=i.objectStore(Se),s=await r.get(n);return await r.put(e,n),await i.done,s&&s.fid===e.fid||be(t,e.fid),e}async function Re(t){const e=_e(t),n=(await Ae()).transaction(Se,"readwrite");await n.objectStore(Se).delete(e),await n.done}async function Oe(t,e){const n=_e(t),i=(await Ae()).transaction(Se,"readwrite"),r=i.objectStore(Se),s=await r.get(n),o=e(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,!o||s&&s.fid===o.fid||be(t,o.fid),o}async function Ne(t){let e;const n=await Oe(t.appConfig,n=>{const i=function(t){return De(t||{fid:we(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(le.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=de(t),r=ge(t),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.6.4"},a={method:"POST",headers:r,body:JSON.stringify(o)},h=await me(()=>fetch(i,a));if(h.ok){const t=await h.json();return{fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:fe(t.authToken)}}throw await pe("Create Installation",h)}(t,e);return ke(t.appConfig,n)}catch(n){throw ue(n)&&409===n.customData.serverCode?await Re(t.appConfig):await ke(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Pe(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function Pe(t){let e=await Le(t.appConfig);for(;1===e.registrationStatus;)await ve(100),e=await Le(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await Ne(t);return n||e}return e}function Le(t){return Oe(t,t=>{if(!t)throw le.create("installation-not-found");return De(t)})}function De(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}async function Me(t,e=!1){let n;const i=await Oe(t.appConfig,i=>{if(!xe(i))throw le.create("not-registered");const r=i.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(r))return i;if(1===r.requestStatus)return n=async function(t,e){let n=await Ue(t.appConfig);for(;1===n.authToken.requestStatus;)await ve(100),n=await Ue(t.appConfig);const i=n.authToken;return 0===i.requestStatus?Me(t,e):i}(t,e),i;{if(!navigator.onLine)throw le.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return n=async function(t,e){try{const n=await async function({appConfig:t,heartbeatServiceProvider:e},n){const i=function(t,{fid:e}){return`${de(t)}/${e}/authTokens:generate`}(t,n),r=function(t,{refreshToken:e}){const n=ge(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={installation:{sdkVersion:"w:0.6.4",appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},h=await me(()=>fetch(i,a));if(h.ok)return fe(await h.json());throw await pe("Generate Auth Token",h)}(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await ke(t.appConfig,i),n}catch(n){if(!ue(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ke(t.appConfig,n)}else await Re(t.appConfig);throw n}}(t,e),e}});return n?await n:i.authToken}function Ue(t){return Oe(t,t=>{if(!xe(t))throw le.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function xe(t){return void 0!==t&&2===t.registrationStatus}function Fe(t){return le.create("missing-app-config-values",{valueName:t})}yt(new Gt("installations",t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Fe("App Configuration");if(!t.name)throw Fe("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fe(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:wt(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),yt(new Gt("installations-internal",t=>{const e=wt(t.getProvider("app").getImmediate(),"installations").getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await Ne(e);return i?i.catch(console.error):Me(e).catch(console.error),n.fid}(e),getToken:t=>async function(t,e=!1){const n=t;return await async function(t){const{registrationPromise:e}=await Ne(t);e&&await e}(n),(await Me(n,e)).token}(e,t)}},"PRIVATE")),St(ce,"0.6.4"),St(ce,"0.6.4","esm2017");const je="https://www.googletagmanager.com/gtag/js",Be=new class{constructor(t){this.name=t,this._logLevel=Ft,this._logHandler=Bt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?xt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}("@firebase/analytics"),He=new Vt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ve(t){if(!t.startsWith(je)){const e=He.create("invalid-gtag-resource",{gtagURL:t});return Be.warn(e.message),""}return t}function $e(t){return Promise.all(t.map(t=>t.catch(t=>t)))}const We=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function ze(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Ke(t,e=We,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw He.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw He.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ge;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),qe({appId:i,apiKey:r,measurementId:s},o,a,e)}async function qe(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=We){var s;const{appId:o,measurementId:a}=t;try{await function(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(He.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(t){if(a)return Be.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:o,measurementId:a};throw t}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:ze(i)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,r);if(200!==o.status&&304!==o.status){let n="";try{const t=await o.json();(null===(e=t.error)||void 0===e?void 0:e.message)&&(n=t.error.message)}catch(t){}throw He.create("config-fetch-failed",{httpStatus:o.status,responseMessage:n})}return o.json()}(t);return r.deleteThrottleMetadata(o),e}catch(e){const h=e;if(!function(t){if(!(t instanceof Ht&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(r.deleteThrottleMetadata(o),a)return Be.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==h?void 0:h.message}]`),{appId:o,measurementId:a};throw e}const c=503===Number(null===(s=null==h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?Kt(n,r.intervalMillis,30):Kt(n,r.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(o,l),Be.debug(`Calling attemptFetch again in ${c} millis`),qe(t,l,i,r)}}class Ge{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let Je,Xe;async function Ye(t,e,n,i,r,s,o){var a;const h=Ke(t);h.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Be.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>Be.error(t)),e.push(h);const c=async function(){if(!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}())return Be.warn(He.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}catch(t){return Be.warn(He.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0}().then(t=>t?i.getId():void 0),[l,u]=await Promise.all([h,c]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(je)&&n.src.includes(t))return n;return null})(s)||function(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy("firebase-js-sdk-policy",e)),n}(0,{createScriptURL:Ve}),i=document.createElement("script"),r=`${je}?l=${t}&id=${e}`;i.src=n?null==n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(s,l.measurementId),Xe&&(r("consent","default",Xe),function(t){Xe=t}(void 0)),r("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),r("config",l.measurementId,d),Je&&(r("set",Je),function(t){Je=t}(void 0)),l.measurementId}class Qe{constructor(t){this.app=t}_delete(){return delete Ze[this.app.options.appId],Promise.resolve()}}let Ze={},tn=[];const en={};let nn,rn,sn="dataLayer",on=!1;function an(t,e,n){!function(){const t=[];if(function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),!("undefined"==typeof navigator||!navigator.cookieEnabled)||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),n=He.create("invalid-analytics-context",{errorInfo:e});Be.warn(n.message)}}();const i=t.options.appId;if(!i)throw He.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw He.create("no-api-key");Be.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ze[i])throw He.create("already-exists",{id:i});if(!on){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(sn);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let s=function(...t){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function(t,e,n,i){return async function(r,...s){try{if("event"===r){const[i,r]=s;await async function(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=await $e(n);for(const n of t){const t=i.find(t=>t.measurementId===n),r=t&&e[t.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(t){Be.error(t)}}(t,e,n,i,r)}else if("config"===r){const[r,o]=s;await async function(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const t=(await $e(n)).find(t=>t.measurementId===r);t&&await e[t.appId]}}catch(t){Be.error(t)}t("config",r,s)}(t,e,n,i,r,o)}else if("consent"===r){const[e]=s;t("consent","update",e)}else if("get"===r){const[e,n,i]=s;t("get",e,n,i)}else if("set"===r){const[e]=s;t("set",e)}else t(r,...s)}catch(t){Be.error(t)}}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(Ze,tn,en,sn,"gtag");rn=t,nn=e,on=!0}return Ze[i]=Ye(t,tn,en,e,nn,sn,n),new Qe(t)}const hn="@firebase/analytics";yt(new Gt("analytics",(t,{options:e})=>an(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),yt(new Gt("analytics-internal",function(t){try{const e=t.getProvider("analytics").getImmediate();return{logEvent:(t,n,i)=>function(t,e,n,i){t=qt(t),async function(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(rn,Ze[t.app.options.appId],e,n,i).catch(t=>Be.error(t))}(e,t,n,i)}}catch(t){throw He.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),St(hn,"0.10.0"),St(hn,"0.10.0","esm2017");const cn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,c=r>>2,l=(3&r)<<4|o>>4;let u=(15&o)<<2|h>>6,d=63&h;a||(d=64,s||(u=64)),i.push(n[c],n[l],n[u],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let e=0;e<t.length;){const r=n[t.charAt(e++)],s=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==r||null==s||null==o||null==a)throw new ln;const h=r<<2|s>>4;if(i.push(h),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ln extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const un=function(t){try{return cn.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},dn=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t.g)return t.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&un(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},fn=t=>{var e;return null===(e=dn())||void 0===e?void 0:e[`_${t}`]};function pn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class gn extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(vn,(t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new gn(i,o,n)}}const vn=/\{\$([^}]+)}/g;function yn(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(wn(n)&&wn(s)){if(!yn(n,s))return!1}else if(n!==s)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function wn(t){return null!==t&&"object"==typeof t}function _n(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function En(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}}),e}function bn(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class In{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=function(t){if("object"!=typeof t||null===t)return!1;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=Tn),void 0===i.error&&(i.error=Tn),void 0===i.complete&&(i.complete=Tn);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}}),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}function Sn(t){return t&&t._delegate?t._delegate:t}var Cn;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Cn||(Cn={}));const An={debug:Cn.DEBUG,verbose:Cn.VERBOSE,info:Cn.INFO,warn:Cn.WARN,error:Cn.ERROR,silent:Cn.SILENT},kn=Cn.INFO,Rn={[Cn.DEBUG]:"log",[Cn.VERBOSE]:"log",[Cn.INFO]:"info",[Cn.WARN]:"warn",[Cn.ERROR]:"error"},On=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=Rn[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};function Nn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}class Pn{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ln=new mn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dn=new class{constructor(t){this.name=t,this._logLevel=kn,this._logHandler=On,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Cn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?An[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Cn.DEBUG,...t),this._logHandler(this,Cn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Cn.VERBOSE,...t),this._logHandler(this,Cn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Cn.INFO,...t),this._logHandler(this,Cn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Cn.WARN,...t),this._logHandler(this,Cn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Cn.ERROR,...t),this._logHandler(this,Cn.ERROR,...t)}}("@firebase/auth");function Mn(t,...e){Dn.logLevel<=Cn.ERROR&&Dn.error(`Auth (${bt}): ${t}`,...e)}function Un(t,...e){throw Fn(t,...e)}function xn(t,...e){return Fn(t,...e)}function Fn(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ln.create(t,...e)}function jn(t,e,...n){if(!t)throw Fn(e,...n)}function Bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mn(e),new Error(e)}function Hn(t,e){t||Bn(e)}function Vn(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function $n(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Wn{constructor(t,e){this.shortDelay=t,this.longDelay=e,Hn(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===$n()||"https:"===$n()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function zn(t,e){Hn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Kn{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gn=new Wn(3e4,6e4);function Jn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xn(t,e,n,i,r={}){return Yn(t,r,async()=>{let r={},s={};i&&("GET"===e?s=i:r={body:JSON.stringify(i)});const o=_n(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Kn.fetch()(Zn(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))})}async function Yn(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},qn),e);try{const e=new ei(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw ni(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const e=r.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ni(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ni(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw ni(t,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw function(t,e,n){const i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:n});return new mn("auth","Firebase",i).create(e,{appName:t.name})}(t,a,o);Un(t,a)}}catch(e){if(e instanceof gn)throw e;Un(t,"network-request-failed",{message:String(e)})}}async function Qn(t,e,n,i,r={}){const s=await Xn(t,e,n,i,r);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Zn(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?zn(t.config,r):`${t.config.apiScheme}://${r}`}function ti(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ei{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(xn(this.auth,"network-request-failed")),Gn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ni(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=xn(t,e,i);return r.customData._tokenResponse=n,r}function ii(t){return void 0!==t&&void 0!==t.enterprise}class ri{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return ti(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}function si(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}function oi(t){return 1e3*Number(t)}function ai(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return Mn("JWT malformed, contained fewer than 3 sections"),null;try{const t=un(n);return t?JSON.parse(t):(Mn("Failed to decode base64 JWT payload"),null)}catch(t){return Mn("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}async function hi(t,e,n=!1){if(n)return e;try{return await e}catch(e){throw e instanceof gn&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class ci{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class li{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=si(this.lastLoginAt),this.creationTime=si(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ui(t){var e;const n=t.auth,i=await t.getIdToken(),r=await hi(t,async function(t,e){return Xn(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:i}));jn(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?function(t){return t.map(t=>{var{providerId:e}=t,n=Nn(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}(s.providerUserInfo):[],a=function(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}(t.providerData,o),h=t.isAnonymous,c=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),l=!!h&&c,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new li(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,u)}class di{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jn(t.idToken,"internal-error"),jn(void 0!==t.idToken,"internal-error"),jn(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=ai(t);return jn(e,"internal-error"),jn(void 0!==e.exp,"internal-error"),jn(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return jn(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(t,e){const n=await Yn(t,{},async()=>{const n=_n({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,s=Zn(t,i,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Kn.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new di;return n&&(jn("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(jn("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(jn("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new di,this.toJSON())}_performRefresh(){return Bn("not implemented")}}function fi(t,e){jn("string"==typeof t||void 0===t,"internal-error",{appName:e})}class pi{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=Nn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new li(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await hi(this,this.stsTokenManager.getToken(this.auth,t));return jn(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=Sn(t),i=await n.getIdToken(e),r=ai(i);jn(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:si(oi(r.auth_time)),issuedAtTime:si(oi(r.iat)),expirationTime:si(oi(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Sn(t);await ui(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(jn(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new pi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){jn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await ui(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await hi(this,async function(t,e){return Xn(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,h,c;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,u=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(h=e.createdAt)&&void 0!==h?h:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:_,providerData:E,stsTokenManager:b}=e;jn(y&&b,t,"internal-error");const I=di.fromJSON(this.name,b);jn("string"==typeof y,t,"internal-error"),fi(l,t.name),fi(u,t.name),jn("boolean"==typeof w,t,"internal-error"),jn("boolean"==typeof _,t,"internal-error"),fi(d,t.name),fi(f,t.name),fi(p,t.name),fi(g,t.name),fi(m,t.name),fi(v,t.name);const T=new pi({uid:y,auth:t,email:u,emailVerified:w,displayName:l,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(t=>Object.assign({},t))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(t,e,n=!1){const i=new di;i.updateFromServerResponse(e);const r=new pi({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await ui(r),r}}const gi=new Map;function mi(t){Hn(t instanceof Function,"Expected a class definition");let e=gi.get(t);return e?(Hn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gi.set(t,e),e)}class vi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}vi.type="NONE";const yi=vi;function wi(t,e,n){return`firebase:${t}:${e}:${n}`}class _i{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=wi(this.userKey,i.apiKey,r),this.fullPersistenceKey=wi("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?pi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new _i(mi(yi),t,n);const i=(await Promise.all(e.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let r=i[0]||mi(yi);const s=wi(n,t.config.apiKey,t.name);let o=null;for(const n of e)try{const e=await n._get(s);if(e){const i=pi._fromJSON(t,e);n!==r&&(o=i),r=n;break}}catch(t){}const a=i.filter(t=>t._shouldAllowMigration);return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map(async t=>{if(t!==r)try{await t._remove(s)}catch(t){}})),new _i(r,t,n)):new _i(r,t,n)}}function Ei(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Si(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bi(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ai(e))return"Blackberry";if(ki(e))return"Webos";if(Ii(e))return"Safari";if((e.includes("chrome/")||Ti(e))&&!e.includes("edge/"))return"Chrome";if(Ci(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function bi(t=pn()){return/firefox\//i.test(t)}function Ii(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ti(t=pn()){return/crios\//i.test(t)}function Si(t=pn()){return/iemobile/i.test(t)}function Ci(t=pn()){return/android/i.test(t)}function Ai(t=pn()){return/blackberry/i.test(t)}function ki(t=pn()){return/webos/i.test(t)}function Ri(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Oi(t=pn()){return Ri(t)||Ci(t)||ki(t)||Ai(t)||/windows phone/i.test(t)||Si(t)}function Ni(t,e=[]){let n;switch(t){case"Browser":n=Ei(pn());break;case"Worker":n=`${Ei(pn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bt}/${i}`}class Pi{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise((n,i)=>{try{n(t(e))}catch(t){i(t)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(t){e.reverse();for(const n of e)try{n()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}class Li{constructor(t){var e,n,i,r;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=t.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}class Di{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ui(this),this.idTokenSubscription=new Ui(this),this.beforeStateQueue=new Pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ln,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=mi(e)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await _i.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null==o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(t){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(t))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return jn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await ui(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?Sn(t):null;return e&&jn(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&jn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(t))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t,e={}){return Xn(t,"GET","/v2/passwordPolicy",Jn(t,e))}(this),e=new Li(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new mn("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Xn(t,"POST","/v2/accounts:revokeToken",Jn(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&mi(t)||this._popupRedirectResolver;jn(e,this,"argument-error"),this.redirectPersistenceManager=await _i.create(this,[mi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"==typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(jn(o,this,"internal-error"),o.then(()=>{s||r(this.currentUser)}),"function"==typeof e){const r=t.addObserver(e,n,i);return()=>{s=!0,r()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ni(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null==e?void 0:e.error)&&function(t,...e){Dn.logLevel<=Cn.WARN&&Dn.warn(`Auth (${bt}): ${t}`,...e)}(`Error while retrieving App Check token: ${e.error}`),null==e?void 0:e.token}}function Mi(t){return Sn(t)}class Ui{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t){const e=new In(t,void 0);return e.subscribe.bind(e)}(t=>this.observer=t)}get next(){return jn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xi(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=xn("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)})}function Fi(t){return`__${t}${Math.floor(1e6*Math.random())}`}class ji{constructor(t){this.type="recaptcha-enterprise",this.auth=Mi(t)}async verify(t="verify",e=!1){function n(e,n,i){const r=window.grecaptcha;ii(r)?r.enterprise.ready(()=>{r.enterprise.execute(e,{action:t}).then(t=>{n(t)}).catch(()=>{n("NO_RECAPTCHA")})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((t,i)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise(async(e,n)=>{(async function(t,e){return Xn(t,"GET","/v2/recaptchaConfig",Jn(t,e))})(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0!==i.recaptchaKey){const n=new ri(i);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(t=>{n(t)})})})(this.auth).then(r=>{if(!e&&ii(window.grecaptcha))n(r,t,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));xi("https://www.google.com/recaptcha/enterprise.js?render="+r).then(()=>{n(r,t,i)}).catch(t=>{i(t)})}}).catch(t=>{i(t)})})}}async function Bi(t,e,n,i=!1){const r=new ji(t);let s;try{s=await r.verify(n)}catch(t){s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Hi(t,e,n,i){var r;if(null===(r=t._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Bi(t,e,n,"getOobCode"===n);return i(t,r)}return i(t,e).catch(async r=>{if("auth/missing-recaptcha-token"===r.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const r=await Bi(t,e,n,"getOobCode"===n);return i(t,r)}return Promise.reject(r)})}function Vi(t,e){const n=wt(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(yn(n.getOptions(),null!=e?e:{}))return t;Un(t,"already-initialized")}return n.initialize({options:e})}function $i(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wi(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class zi{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Bn("not implemented")}_getIdTokenResponse(t){return Bn("not implemented")}_linkToIdToken(t,e){return Bn("not implemented")}_getReauthenticationResolver(t){return Bn("not implemented")}}async function Ki(t,e){return Xn(t,"POST","/v1/accounts:signUp",e)}async function qi(t,e){return Qn(t,"POST","/v1/accounts:signInWithPassword",Jn(t,e))}class Gi extends zi{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Gi(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Gi(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Hi(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qi);case"emailLink":return async function(t,e){return Qn(t,"POST","/v1/accounts:signInWithEmailLink",Jn(t,e))}(t,{email:this._email,oobCode:this._password});default:Un(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Hi(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ki);case"emailLink":return async function(t,e){return Qn(t,"POST","/v1/accounts:signInWithEmailLink",Jn(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Un(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ji(t,e){return Qn(t,"POST","/v1/accounts:signInWithIdp",Jn(t,e))}class Xi extends zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Xi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Un("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=Nn(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Xi(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return Ji(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Ji(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ji(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=_n(e)}return t}}const Yi={USER_NOT_FOUND:"user-not-found"};class Qi extends zi{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Qi({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Qi({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Qn(t,"POST","/v1/accounts:signInWithPhoneNumber",Jn(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Qn(t,"POST","/v1/accounts:signInWithPhoneNumber",Jn(t,e));if(n.temporaryProof)throw ni(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Qn(t,"POST","/v1/accounts:signInWithPhoneNumber",Jn(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Yi)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new Qi({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class Zi{constructor(t){var e,n,i,r,s,o;const a=En(bn(t)),h=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);jn(h&&c&&l,"argument-error"),this.apiKey=h,this.operation=l,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=En(bn(t)).link,n=e?En(bn(e)).deep_link_id:null,i=En(bn(t)).deep_link_id;return(i?En(bn(i)).link:null)||i||n||e||t}(t);try{return new Zi(e)}catch(t){return null}}}class tr{constructor(){this.providerId=tr.PROVIDER_ID}static credential(t,e){return Gi._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Zi.parseLink(e);return jn(n,"argument-error"),Gi._fromEmailAndCode(t,n.code,n.tenantId)}}tr.PROVIDER_ID="password",tr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class er{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nr extends er{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ir extends nr{constructor(){super("facebook.com")}static credential(t){return Xi._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch(t){return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com",ir.PROVIDER_ID="facebook.com";class rr extends nr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Xi._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return rr.credential(e,n)}catch(t){return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com",rr.PROVIDER_ID="google.com";class sr extends nr{constructor(){super("github.com")}static credential(t){return Xi._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch(t){return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com",sr.PROVIDER_ID="github.com";class or extends nr{constructor(){super("twitter.com")}static credential(t,e){return Xi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return or.credential(e,n)}catch(t){return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com",or.PROVIDER_ID="twitter.com";class ar{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const r=await pi._fromIdTokenResponse(t,n,i),s=hr(n);return new ar({user:r,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=hr(n);return new ar({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function hr(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class cr extends gn{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,cr.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new cr(t,e,n,i)}}function lr(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw cr._fromErrorAndOperation(t,n,e,i);throw n})}new WeakMap;class ur{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class dr extends ur{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=pn();return Ii(t)||Ri(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Oi(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);!function(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||r===t.newValue||t.newValue===t.oldValue?i():setTimeout(i,10)}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}dr.type="LOCAL";const fr=dr;class pr extends ur{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}pr.type="SESSION";const gr=pr;class mr{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(e=>e.isListeningto(t));if(e)return e;const n=new mr(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async t=>t(e.origin,r)),a=await function(t){return Promise.all(t.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vr(t="",e=10){let n="";for(let t=0;t<e;t++)n+=Math.floor(10*Math.random());return t+n}mr.receivers=[];class yr{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise((o,a)=>{const h=vr("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===h)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:h,data:e},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function wr(){return window}function _r(){return void 0!==wr().WorkerGlobalScope&&"function"==typeof wr().importScripts}const Er="firebaseLocalStorageDb";class br{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ir(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Tr(){const t=indexedDB.open(Er,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains("firebaseLocalStorage")?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Er);return new br(t).toPromise()}(),e(await Tr()))})})}async function Sr(t,e,n){const i=Ir(t,!0).put({fbase_key:e,value:n});return new br(i).toPromise()}function Cr(t,e){const n=Ir(t,!0).delete(e);return new br(n).toPromise()}class Ar{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Tr()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _r()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mr._getInstance(_r()?self:null),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new yr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tr();return await Sr(t,"__sak","1"),await Cr(t,"__sak"),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sr(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(e=>async function(t,e){const n=Ir(t,!1).get(e),i=await new br(n).toPromise();return void 0===i?null:i.value}(e,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Cr(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(t=>{const e=Ir(t,!1).getAll();return new br(e).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const t of Object.keys(this.localCache))this.localCache[t]&&!n.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ar.type="LOCAL";const kr=Ar;Fi("rcb"),new Wn(3e4,6e4);class Rr{constructor(t){this.providerId=Rr.PROVIDER_ID,this.auth=Mi(t)}verifyPhoneNumber(t,e){return async function(t,e,n){var i;const r=await n.verify();try{let s;if(jn("string"==typeof r,t,"argument-error"),jn("recaptcha"===n.type,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){jn("enroll"===e.type,t,"internal-error");const n=await function(t,e){return Xn(t,"POST","/v2/accounts/mfaEnrollment:start",Jn(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{jn("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;jn(n,t,"missing-multi-factor-info");const o=await function(t,e){return Xn(t,"POST","/v2/accounts/mfaSignIn:start",Jn(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Xn(t,"POST","/v1/accounts:sendVerificationCode",Jn(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}(this.auth,t,Sn(e))}static credential(t,e){return Qi._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Rr.credentialFromTaggedObject(e)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?Qi._fromTokenResponse(e,n):null}}Rr.PROVIDER_ID="phone",Rr.PHONE_SIGN_IN_METHOD="phone";class Or extends zi{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ji(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ji(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ji(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Nr(t){return async function(t,e,n=!1){const i="signIn",r=await lr(t,i,e),s=await ar._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}(t.auth,new Or(t),t.bypassAuthState)}function Pr(t){const{auth:e,user:n}=t;return jn(n,e,"internal-error"),async function(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await hi(t,lr(i,r,e,t),n);jn(s.idToken,i,"internal-error");const o=ai(s.idToken);jn(o,i,"internal-error");const{sub:a}=o;return jn(t.uid===a,i,"user-mismatch"),ar._forOperation(t,r,s)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&Un(i,"user-mismatch"),t}}(n,new Or(t),t.bypassAuthState)}async function Lr(t){const{auth:e,user:n}=t;return jn(n,e,"internal-error"),async function(t,e,n=!1){const i=await hi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ar._forOperation(t,"link",i)}(n,new Or(t),t.bypassAuthState)}class Dr{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Nr;case"linkViaPopup":case"linkViaRedirect":return Lr;case"reauthViaPopup":case"reauthViaRedirect":return Pr;default:Un(this.auth,"internal-error")}}resolve(t){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mr=new Wn(2e3,1e4);class Ur extends Dr{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Ur.currentPopupAction&&Ur.currentPopupAction.cancel(),Ur.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jn(t,this.auth,"internal-error"),t}async onExecution(){Hn(1===this.filter.length,"Popup operations only handle one event");const t=vr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ur.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(t,Mr.get())};t()}}Ur.currentPopupAction=null;const xr=new Map;class Fr extends Dr{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=xr.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=function(t){return wi("pendingRedirect",t.config.apiKey,t.name)}(e),i=function(t){return mi(t._redirectPersistence)}(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}xr.set(this.auth._key(),t)}return this.bypassAuthState||xr.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function jr(t,e){xr.set(t._key(),e)}async function Br(t,e,n=!1){const i=Mi(t),r=function(t,e){return e?mi(e):(jn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(i,e),s=new Fr(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}class Hr{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $r(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!$r(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(xn(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vr(t))}saveEventToCache(t){this.cachedEventUids.add(Vr(t)),this.lastProcessedEventTime=Date.now()}}function Vr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function $r({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const Wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zr=/^https?/;function Kr(t){const e=Vn(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!zr.test(n))return!1;if(Wr.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const qr=new Wn(3e4,6e4);function Gr(){const t=wr().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}let Jr=null;const Xr=new Wn(5e3,15e3),Yr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zr(t){const e=t.config;jn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zn(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:t.name,v:bt},r=Qr.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${_n(i).slice(1)}`}const ts={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class es{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}const ns=encodeURIComponent("fac");async function is(t,e,n,i,r,s){jn(t.config.authDomain,t,"auth-domain-config-required"),jn(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:bt,eventId:r};if(e instanceof er){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof nr){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const t of Object.keys(a))void 0===a[t]&&delete a[t];const h=await t._getAppCheckToken(),c=h?`#${ns}=${encodeURIComponent(h)}`:"";return`${function({config:t}){return t.emulator?zn(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${_n(a).slice(1)}${c}`}const rs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gr,this._completeRedirectFn=Br,this._overrideRedirectResult=jr}async _openPopup(t,e,n,i){var r;return Hn(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()"),function(t,e,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const h=Object.assign(Object.assign({},ts),{width:i.toString(),height:r.toString(),top:s,left:o}),c=pn().toLowerCase();n&&(a=Ti(c)?"_blank":n),bi(c)&&(e=e||"http://localhost",h.scrollbars="yes");const l=Object.entries(h).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=pn()){var e;return Ri(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new es(null);const u=window.open(e||"",a,l);jn(u,t,"popup-blocked");try{u.focus()}catch(t){}return new es(u)}(t,await is(t,e,n,Vn(),i),vr())}async _openRedirect(t,e,n,i){return await this._originValidation(t),function(t){wr().location.href=t}(await is(t,e,n,Vn(),i)),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(Hn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await async function(t){const e=await function(t){return Jr=Jr||function(t){return new Promise((e,n)=>{var i,r,s;function o(){Gr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gr(),n(xn(t,"network-request-failed"))},timeout:qr.get()})}if(null===(r=null===(i=wr().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=wr().gapi)||void 0===s?void 0:s.load)){const e=Fi("iframefcb");return wr()[e]=()=>{gapi.load?o():n(xn(t,"network-request-failed"))},xi(`https://apis.google.com/js/api.js?onload=${e}`).catch(t=>n(t))}o()}}).catch(t=>{throw Jr=null,t})}(t),Jr}(t),n=wr().gapi;return jn(n,t,"internal-error"),e.open({where:document.body,url:Zr(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yr,dontclear:!0},e=>new Promise(async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=xn(t,"network-request-failed"),s=wr().setTimeout(()=>{i(r)},Xr.get());function o(){wr().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{i(r)})}))}(t),n=new Hr(t);return e.register("authEvent",e=>(jn(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.webStorageSupport;void 0!==r&&e(!!r),Un(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return Xn(t,"GET","/v1/projects",e)}(t);for(const n of e)try{if(Kr(n))return}catch(t){}Un(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Oi()||Ii()||Ri()}};var ss="@firebase/auth";class os{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){jn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const as=fn("authIdTokenMaxAge")||300;let hs=null;!function(t){yt(new Pn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;jn(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ni(t)},c=new Di(i,r,s,h);return function(t,e){const n=(null==e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(mi);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),yt(new Pn("auth-internal",t=>(t=>new os(t))(Mi(t.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),St(ss,"1.5.1",function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),St(ss,"1.5.1","esm2017")}("Browser");const cs=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},ls={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,c=r>>2,l=(3&r)<<4|o>>4;let u=(15&o)<<2|h>>6,d=63&h;a||(d=64,s||(u=64)),i.push(n[c],n[l],n[u],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cs(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let e=0;e<t.length;){const r=n[t.charAt(e++)],s=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==r||null==s||null==o||null==a)throw new us;const h=r<<2|s>>4;if(i.push(h),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class us extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ds=function(t){return function(t){const e=cs(t);return ls.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class fs extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(gs,(t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new fs(i,o,n)}}const gs=/\{\$([^}]+)}/g;class ms{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}var vs;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(vs||(vs={}));const ys={debug:vs.DEBUG,verbose:vs.VERBOSE,info:vs.INFO,warn:vs.WARN,error:vs.ERROR,silent:vs.SILENT},ws=vs.INFO,_s={[vs.DEBUG]:"log",[vs.VERBOSE]:"log",[vs.INFO]:"info",[vs.WARN]:"warn",[vs.ERROR]:"error"},Es=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=_s[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};var bs,Is="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{},Ts=Ts||{},Ss=Is||self;function Cs(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function As(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ks="closure_uid_"+(1e9*Math.random()>>>0),Rs=0;function Os(t,e,n){return t.call.apply(t.bind,arguments)}function Ns(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ps(t,e,n){return(Ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Os:Ns).apply(null,arguments)}function Ls(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ds(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function Ms(){this.s=this.s,this.o=this.o}Ms.prototype.s=!1,Ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ks)&&t[ks]||(t[ks]=++Rs)}(this)},Ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Us=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xs(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Fs(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(Cs(n)){const e=t.length||0,i=n.length||0;t.length=e+i;for(let r=0;r<i;r++)t[e+r]=n[r]}else t.push(n)}}function js(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}js.prototype.h=function(){this.defaultPrevented=!0};var Bs=function(){if(!Ss.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};Ss.addEventListener("test",t,e),Ss.removeEventListener("test",t,e)}catch(t){}return t}();function Hs(t){return/^[\s\xa0]*$/.test(t)}function Vs(){var t=Ss.navigator;return t&&(t=t.userAgent)?t:""}function $s(t){return-1!=Vs().indexOf(t)}function Ws(t){return Ws[" "](t),t}Ws[" "]=function(){};var zs,Ks,qs=$s("Opera"),Gs=$s("Trident")||$s("MSIE"),Js=$s("Edge"),Xs=Js||Gs,Ys=$s("Gecko")&&!(-1!=Vs().toLowerCase().indexOf("webkit")&&!$s("Edge"))&&!($s("Trident")||$s("MSIE"))&&!$s("Edge"),Qs=-1!=Vs().toLowerCase().indexOf("webkit")&&!$s("Edge");function Zs(){var t=Ss.document;return t?t.documentMode:void 0}t:{var to="",eo=(Ks=Vs(),Ys?/rv:([^\);]+)(\)|;)/.exec(Ks):Js?/Edge\/([\d\.]+)/.exec(Ks):Gs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ks):Qs?/WebKit\/(\S+)/.exec(Ks):qs?/(?:Version)[ \/]?(\S+)/.exec(Ks):void 0);if(eo&&(to=eo?eo[1]:""),Gs){var no=Zs();if(null!=no&&no>parseFloat(to)){zs=String(no);break t}}zs=to}var io=Ss.document&&Gs&&(Zs()||parseInt(zs,10))||void 0;function ro(t,e){if(js.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ys){t:{try{Ws(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:so[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ro.$.h.call(this)}}Ds(ro,js);var so={2:"touch",3:"pen",4:"mouse"};ro.prototype.h=function(){ro.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oo="closure_listenable_"+(1e6*Math.random()|0),ao=0;function ho(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++ao,this.fa=this.ia=!1}function co(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function lo(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function uo(t){const e={};for(const n in t)e[n]=t[n];return e}const fo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function po(t,e){let n,i;for(let e=1;e<arguments.length;e++){for(n in i=arguments[e],i)t[n]=i[n];for(let e=0;e<fo.length;e++)n=fo[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function go(t){this.src=t,this.g={},this.h=0}function mo(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=Us(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(co(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vo(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}go.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vo(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new ho(e,this.src,s,!!i,r)).ia=n,t.push(e)),e};var yo="closure_lm_"+(1e6*Math.random()|0),wo={};function _o(t,e,n,i,r){if(i&&i.once)return bo(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_o(t,e[s],n,i,r);return null}return n=Ro(n),t&&t[oo]?t.O(e,n,As(i)?!!i.capture:!!i,r):Eo(t,e,n,!1,i,r)}function Eo(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=As(r)?!!r.capture:!!r,a=Ao(t);if(a||(t[yo]=a=new go(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){const t=Co;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Bs||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(So(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function bo(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bo(t,e[s],n,i,r);return null}return n=Ro(n),t&&t[oo]?t.P(e,n,As(i)?!!i.capture:!!i,r):Eo(t,e,n,!0,i,r)}function Io(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Io(t,e[s],n,i,r);else i=As(i)?!!i.capture:!!i,n=Ro(n),t&&t[oo]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vo(s=t.g[e],n,i,r))&&(co(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Ao(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vo(e,n,i,r)),(n=-1<t?e[t]:null)&&To(n))}function To(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[oo])mo(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(So(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Ao(e))?(mo(n,t),0==n.h&&(n.src=null,e[yo]=null)):co(t)}}}function So(t){return t in wo?wo[t]:wo[t]="on"+t}function Co(t,e){if(t.fa)t=!0;else{e=new ro(e,this);var n=t.listener,i=t.la||t.src;t.ia&&To(t),t=n.call(i,e)}return t}function Ao(t){return(t=t[yo])instanceof go?t:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ro(t){return"function"==typeof t?t:(t[ko]||(t[ko]=function(e){return t.handleEvent(e)}),t[ko])}function Oo(){Ms.call(this),this.i=new go(this),this.S=this,this.J=null}function No(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"==typeof e)e=new js(e,t);else if(e instanceof js)e.target=e.target||t;else{var r=e;po(e=new js(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Po(o,i,!0,e)&&r}if(r=Po(o=e.g=t,i,!0,e)&&r,r=Po(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=Po(o=e.g=n[s],i,!1,e)&&r}function Po(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,h=o.la||o.src;o.ia&&mo(t.i,o),r=!1!==a.call(h,i)&&r}}return r&&!i.defaultPrevented}Ds(Oo,Ms),Oo.prototype[oo]=!0,Oo.prototype.removeEventListener=function(t,e,n,i){Io(this,t,e,n,i)},Oo.prototype.N=function(){if(Oo.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)co(n[i]);delete e.g[t],e.h--}}this.J=null},Oo.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Oo.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Lo=Ss.JSON.stringify;function Do(){var t=Ho;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Mo=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Uo,t=>t.reset());class Uo{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function xo(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Fo(t){Ss.setTimeout(()=>{throw t},0)}let jo,Bo=!1,Ho=new class{constructor(){this.h=this.g=null}add(t,e){const n=Mo.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},Vo=()=>{const t=Ss.Promise.resolve(void 0);jo=()=>{t.then($o)}};var $o=()=>{for(var t;t=Do();){try{t.h.call(t.g)}catch(t){Fo(t)}var e=Mo;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bo=!1};function Wo(t,e){Oo.call(this),this.h=t||1,this.g=e||Ss,this.j=Ps(this.qb,this),this.l=Date.now()}function zo(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Ko(t,e,n){if("function"==typeof t)n&&(t=Ps(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ps(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ss.setTimeout(t,e||0)}function qo(t){t.g=Ko(()=>{t.g=null,t.i&&(t.i=!1,qo(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ds(Wo,Oo),(bs=Wo.prototype).ga=!1,bs.T=null,bs.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),No(this,"tick"),this.ga&&(zo(this),this.start()))}},bs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bs.N=function(){Wo.$.N.call(this),zo(this),delete this.g};class Go extends Ms{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(Ss.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(t){Ms.call(this),this.h=t,this.g={}}Ds(Jo,Ms);var Xo=[];function Yo(t,e,n,i){Array.isArray(n)||(n&&(Xo[0]=n.toString()),n=Xo);for(var r=0;r<n.length;r++){var s=_o(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Qo(t){lo(t.g,function(t,e){this.g.hasOwnProperty(e)&&To(t)},t),t.g={}}function Zo(){this.g=!0}function ta(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Lo(n)}catch(t){return e}}(t,n)+(i?" "+i:"")})}Jo.prototype.N=function(){Jo.$.N.call(this),Qo(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zo.prototype.Ea=function(){this.g=!1},Zo.prototype.info=function(){};var ea={},na=null;function ia(){return na=na||new Oo}function ra(t){js.call(this,ea.Ta,t)}function sa(t){const e=ia();No(e,new ra(e))}function oa(t,e){js.call(this,ea.STAT_EVENT,t),this.stat=e}function aa(t){const e=ia();No(e,new oa(e,t))}function ha(t,e){js.call(this,ea.Ua,t),this.size=e}function ca(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ss.setTimeout(function(){t()},e)}ea.Ta="serverreachability",Ds(ra,js),ea.STAT_EVENT="statevent",Ds(oa,js),ea.Ua="timingevent",Ds(ha,js);var la={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9};function ua(){}function da(t){return t.h||(t.h=t.i())}ua.prototype.h=null;var fa,pa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ga(){js.call(this,"d")}function ma(){js.call(this,"c")}function va(){}function ya(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Jo(this),this.P=_a,t=Xs?125:void 0,this.V=new Wo(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}Ds(ga,js),Ds(ma,js),Ds(va,ua),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},fa=new va;var _a=45e3,Ea={},ba={};function Ia(t,e,n){t.L=1,t.A=Va(xa(e)),t.u=n,t.S=!0,Ta(t,null)}function Ta(t,e){t.G=Date.now(),ka(t),t.B=xa(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),eh(n.i,"t",i),t.o=0,n=t.l.J,t.h=new wa,t.g=Zh(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Go(Ps(t.Pa,t,t.g),t.O)),Yo(t.U,t.g,"readystatechange",t.nb),e=t.I?uo(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),sa(),function(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),h=0;h<a.length;h++){var c=a[h].split("=");if(1<c.length){var l=c[0];c=c[1];var u=l.split("_");o=2<=u.length&&"type"==u[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.v,t.B,t.m,t.W,t.u)}function Sa(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function Ca(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=Aa(t,n),i==ba){4==e&&(t.s=4,aa(14),r=!1),ta(t.j,t.m,null,"[Incomplete Response]");break}if(i==Ea){t.s=4,aa(15),ta(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ta(t.j,t.m,i,null),La(t,i)}Sa(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,aa(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zh(e),e.M=!0,aa(11))):(ta(t.j,t.m,n,"[Invalid Chunked Response]"),Pa(t),Na(t))}function Aa(t,e){var n=t.o,i=e.indexOf("\n",n);return-1==i?ba:(n=Number(e.substring(n,i)),isNaN(n)?Ea:(i+=1)+n>e.length?ba:(e=e.slice(i,i+n),t.o=i+n,e))}function ka(t){t.Y=Date.now()+t.P,Ra(t,t.P)}function Ra(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=ca(Ps(t.lb,t),e)}function Oa(t){t.C&&(Ss.clearTimeout(t.C),t.C=null)}function Na(t){0==t.l.H||t.J||Gh(t.l,t)}function Pa(t){Oa(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,zo(t.V),Qo(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function La(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||ah(n.i,t)))if(!t.K&&ah(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch(t){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;qh(n),xh(n)}Wh(n),aa(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=ca(Ps(n.ib,n),6e3));if(1>=oh(n.i)&&n.oa){try{n.oa()}catch(t){}n.oa=void 0}}else Xh(n,11)}else if((t.K||n.g==t)&&qh(n),!Hs(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const e=c[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(i=1.5*l,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=t.g;if(u){const t=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.i;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(hh(s,s.h),s.h=null))}if(i.F){const t=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.Da=t,Ha(i.I,i.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((i=n).wa=Qh(i,i.J?i.pa:null,i.Y),o.K){ch(i.i,o);var a=o,h=i.L;h&&a.setTimeout(h),a.C&&(Oa(a),ka(a)),i.g=o}else $h(i);0<n.j.length&&jh(n)}else"stop"!=c[0]&&"close"!=c[0]||Xh(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xh(n,7):Uh(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}sa()}catch(t){}}function Da(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cs(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(Cs(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Cs(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(bs=ya.prototype).setTimeout=function(t){this.P=t},bs.nb=function(t){t=t.target;const e=this.M;e&&3==Oh(t)?e.l():this.Pa(t)},bs.Pa=function(t){try{if(t==this.g)t:{const l=Oh(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Xs||this.g&&(this.h.h||this.g.ja()||Nh(this.g)))){this.J||4!=l||7==e||sa(),Oa(this);var n=this.g.da();this.ca=n;e:if(Sa(this)){var i=Nh(this.g);t="";var r=i.length,s=4==Oh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Pa(this),Na(this);var o="";break e}this.h.i=new Ss.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,h=this.g;if((a=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hs(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.s=3,aa(12),Pa(this),Na(this);break t}ta(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,n)}this.S?(Ca(this,l,o),Xs&&this.i&&3==l&&(Yo(this.U,this.V,"tick",this.mb),this.V.start())):(ta(this.j,this.m,o,null),La(this,o)),4==l&&Pa(this),this.i&&!this.J&&(4==l?Gh(this.l,this):(this.i=!1,ka(this)))}else(function(t){const e={};t=(t.g&&2<=Oh(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(Hs(t[i]))continue;var n=xo(t[i]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(t){return t.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,aa(12)):(this.s=0,aa(13)),Pa(this),Na(this)}}}catch(t){}},bs.mb=function(){if(this.g){var t=Oh(this.g),e=this.g.ja();this.o<e.length&&(Oa(this),Ca(this,t,e),this.i&&4!=t&&ka(this))}},bs.cancel=function(){this.J=!0,Pa(this)},bs.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(sa(),aa(17)),Pa(this),this.s=2,Na(this)):Ra(this,this.Y-t)};var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ua){this.h=t.h,Fa(this,t.j),this.s=t.s,this.g=t.g,ja(this,t.m),this.l=t.l;var e=t.i,n=new Ya;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ba(this,n),this.o=t.o}else t&&(e=String(t).match(Ma))?(this.h=!1,Fa(this,e[1]||"",!0),this.s=$a(e[2]||""),this.g=$a(e[3]||"",!0),ja(this,e[4]),this.l=$a(e[5]||"",!0),Ba(this,e[6]||"",!0),this.o=$a(e[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}function xa(t){return new Ua(t)}function Fa(t,e,n){t.j=n?$a(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ja(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ba(t,e,n){e instanceof Ya?(t.i=e,function(t,e){e&&!t.j&&(Qa(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Za(this,e),eh(this,n,t))},t)),t.j=e}(t.i,t.h)):(n||(e=Wa(e,Ja)),t.i=new Ya(e,t.h))}function Ha(t,e,n){t.i.set(e,n)}function Va(t){return Ha(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $a(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,za),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function za(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ua.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wa(e,Ka,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wa(e,Ka,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wa(n,"/"==n.charAt(0)?Ga:qa,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wa(n,Xa)),t.join("")};var Ka=/[#\/\?@]/g,qa=/[#\?:]/g,Ga=/[#\?]/g,Ja=/[#\?@]/g,Xa=/#/g;function Ya(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qa(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Za(t,e){Qa(t),e=nh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function th(t,e){return Qa(t),e=nh(t,e),t.g.has(e)}function eh(t,e,n){Za(t,e),0<n.length&&(t.i=null,t.g.set(nh(t,e),xs(n)),t.h+=n.length)}function nh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ih(t){this.l=t||rh,t=Ss.PerformanceNavigationTiming?0<(t=Ss.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ss.g&&Ss.g.Ka&&Ss.g.Ka()&&Ss.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(bs=Ya.prototype).add=function(t,e){Qa(this),this.i=null,t=nh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},bs.forEach=function(t,e){Qa(this),this.g.forEach(function(n,i){n.forEach(function(n){t.call(e,n,i,this)},this)},this)},bs.ta=function(){Qa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},bs.Z=function(t){Qa(this);let e=[];if("string"==typeof t)th(this,t)&&(e=e.concat(this.g.get(nh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},bs.set=function(t,e){return Qa(this),this.i=null,th(this,t=nh(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},bs.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},bs.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};var rh=10;function sh(t){return!!t.h||!!t.g&&t.g.size>=t.j}function oh(t){return t.h?1:t.g?t.g.size:0}function ah(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hh(t,e){t.g?t.g.add(e):t.h=e}function ch(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function lh(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xs(t.i)}function uh(){this.g=new class{stringify(t){return Ss.JSON.stringify(t,void 0)}parse(t){return Ss.JSON.parse(t,void 0)}}}function dh(t,e,n){const i=n||"";try{Da(t,function(t,n){let r=t;As(t)&&(r=Lo(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function fh(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}function ph(t){this.l=t.ec||null,this.j=t.ob||!1}function gh(t,e){Oo.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=mh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ih.prototype.cancel=function(){if(this.i=lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Ds(ph,ua),ph.prototype.g=function(){return new gh(this.l,this.j)},ph.prototype.i=function(t){return function(){return t}}({}),Ds(gh,Oo);var mh=0;function vh(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function yh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wh(t)}function wh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(bs=gh.prototype).open=function(t,e){if(this.readyState!=mh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wh(this)},bs.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ss).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},bs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yh(this)),this.readyState=mh},bs.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wh(this)),this.g&&(this.readyState=3,wh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Ss.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vh(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},bs.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yh(this):wh(this),3==this.readyState&&vh(this)}},bs.Za=function(t){this.g&&(this.response=this.responseText=t,yh(this))},bs.Ya=function(t){this.g&&(this.response=t,yh(this))},bs.ka=function(){this.g&&yh(this)},bs.setRequestHeader=function(t,e){this.v.append(t,e)},bs.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},bs.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var _h=Ss.JSON.parse;function Eh(t){Oo.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bh,this.L=this.M=!1}Ds(Eh,Oo);var bh="",Ih=/^https?$/i,Th=["POST","PUT"];function Sh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ch(t),kh(t)}function Ch(t){t.F||(t.F=!0,No(t,"complete"),No(t,"error"))}function Ah(t){if(t.h&&void 0!==Ts&&(!t.C[1]||4!=Oh(t)||2!=t.da()))if(t.v&&4==Oh(t))Ko(t.La,0,t);else if(No(t,"readystatechange"),4==Oh(t)){t.h=!1;try{const o=t.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===o){var r=String(t.I).match(Ma)[1]||null;!r&&Ss.self&&Ss.self.location&&(r=Ss.self.location.protocol.slice(0,-1)),i=!Ih.test(r?r.toLowerCase():"")}n=i}if(n)No(t,"complete"),No(t,"success");else{t.m=6;try{var s=2<Oh(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.da()+"]",Ch(t)}}finally{kh(t)}}}function kh(t,e){if(t.g){Rh(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||No(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function Rh(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ss.clearTimeout(t.A),t.A=null)}function Oh(t){return t.g?t.g.readyState:0}function Nh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bh:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ph(t){let e="";return lo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function Lh(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ph(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ha(t,e,n))}function Dh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Mh(t){this.Ga=0,this.j=[],this.l=new Zo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dh("baseRetryDelayMs",5e3,t),this.hb=Dh("retryDelaySeedMs",1e4,t),this.eb=Dh("forwardChannelMaxRetries",2,t),this.xa=Dh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ih(t&&t.concurrentRequestLimit),this.Ja=new uh,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Uh(t){if(Fh(t),3==t.H){var e=t.W++,n=xa(t.I);if(Ha(n,"SID",t.K),Ha(n,"RID",e),Ha(n,"TYPE","terminate"),Hh(t,n),(e=new ya(t,t.l,e)).L=2,e.A=Va(xa(n)),n=!1,Ss.navigator&&Ss.navigator.sendBeacon)try{n=Ss.navigator.sendBeacon(e.A.toString(),"")}catch(t){}!n&&Ss.Image&&((new Image).src=e.A,n=!0),n||(e.g=Zh(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ka(e)}Yh(t)}function xh(t){t.g&&(zh(t),t.g.cancel(),t.g=null)}function Fh(t){xh(t),t.u&&(Ss.clearTimeout(t.u),t.u=null),qh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ss.clearTimeout(t.m),t.m=null)}function jh(t){if(!sh(t.i)&&!t.m){t.m=!0;var e=t.Na;jo||Vo(),Bo||(jo(),Bo=!0),Ho.add(e,t),t.C=0}}function Bh(t,e){var n;n=e?e.m:t.W++;const i=xa(t.I);Ha(i,"SID",t.K),Ha(i,"RID",n),Ha(i,"AID",t.V),Hh(t,i),t.o&&t.s&&Lh(i,t.o,t.s),n=new ya(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Vh(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hh(t.i,n),Ia(n,i,e)}function Hh(t,e){t.na&&lo(t.na,function(t,n){Ha(e,n,t)}),t.h&&Da({},function(t,n){Ha(e,n,t)})}function Vh(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ps(t.h.Va,t.h,t):null;t:{var r=t.j;let e=-1;for(;;){const s=["count="+n];-1==e?0<n?(e=r[0].g,s.push("ofs="+e)):e=0:s.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=r[a].g;const h=r[a].map;if(n-=e,0>n)e=Math.max(0,r[a].g-100),o=!1;else try{dh(h,s,"req"+n+"_")}catch(t){i&&i(h)}}if(o){i=s.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,i}function $h(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jo||Vo(),Bo||(jo(),Bo=!0),Ho.add(e,t),t.A=0}}function Wh(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=ca(Ps(t.Ma,t),Jh(t,t.A)),t.A++,0))}function zh(t){null!=t.B&&(Ss.clearTimeout(t.B),t.B=null)}function Kh(t){t.g=new ya(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=xa(t.wa);Ha(e,"RID","rpc"),Ha(e,"SID",t.K),Ha(e,"AID",t.V),Ha(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ha(e,"TO",t.qa),Ha(e,"TYPE","xmlhttp"),Hh(t,e),t.o&&t.s&&Lh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Va(xa(e)),n.u=null,n.S=!0,Ta(n,t)}function qh(t){null!=t.v&&(Ss.clearTimeout(t.v),t.v=null)}function Gh(t,e){var n=null;if(t.g==e){qh(t),zh(t),t.g=null;var i=2}else{if(!ah(t.i,e))return;n=e.F,ch(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;No(i=ia(),new ha(i,n)),jh(t)}else $h(t);else if(3==(r=e.s)||0==r&&0<e.ca||!(1==i&&function(t,e){return!(oh(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ca(Ps(t.Na,t,e),Jh(t,t.C)),t.C++,0)))}(t,e)||2==i&&Wh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Xh(t,5);break;case 4:Xh(t,10);break;case 3:Xh(t,6);break;default:Xh(t,2)}}function Jh(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xh(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=Ps(t.pb,t);n||(n=new Ua("//www.google.com/images/cleardot.gif"),Ss.location&&"http"==Ss.location.protocol||Fa(n,"https"),Va(n)),function(t,e){const n=new Zo;if(Ss.Image){const i=new Image;i.onload=Ls(fh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ls(fh,n,i,"TestLoadImage: error",!1,e),i.onabort=Ls(fh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ls(fh,n,i,"TestLoadImage: timeout",!1,e),Ss.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else aa(2);t.H=0,t.h&&t.h.za(e),Yh(t),Fh(t)}function Yh(t){if(t.H=0,t.ma=[],t.h){const e=lh(t.i);0==e.length&&0==t.j.length||(Fs(t.ma,e),Fs(t.ma,t.j),t.i.i.length=0,xs(t.j),t.j.length=0),t.h.ya()}}function Qh(t,e,n){var i=n instanceof Ua?xa(n):new Ua(n);if(""!=i.g)e&&(i.g=e+"."+i.g),ja(i,i.m);else{var r=Ss.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ua(null);i&&Fa(s,i),e&&(s.g=e),r&&ja(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&Ha(i,n,e),Ha(i,"VER",t.ra),Hh(t,i),i}function Zh(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ha&&!t.va?new Eh(new ph({ob:n})):new Eh(t.va)).Oa(t.J),e}function tc(){}function ec(){if(Gs&&!(10<=Number(io)))throw Error("Environmental error: no available transport.")}function nc(t,e){Oo.call(this),this.g=new Mh(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hs(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new sc(this)}function ic(t){ga.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function rc(){ma.call(this),this.status=1}function sc(t){this.g=t}function oc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ac(t,e,n){n||(n=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function hc(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}(bs=Eh.prototype).Oa=function(t){this.M=t},bs.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fa.g(),this.C=this.u?da(this.u):da(fa),this.g.onreadystatechange=Ps(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(t){return void Sh(this,t)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),r=Ss.FormData&&t instanceof Ss.FormData,!(0<=Us(Th,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Rh(this),0<this.B&&((this.L=function(t){return Gs&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ps(this.ua,this)):this.A=Ko(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Sh(this,t)}},bs.ua=function(){void 0!==Ts&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,No(this,"timeout"),this.abort(8))},bs.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,No(this,"complete"),No(this,"abort"),kh(this))},bs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kh(this,!0)),Eh.$.N.call(this)},bs.La=function(){this.s||(this.G||this.v||this.l?Ah(this):this.kb())},bs.kb=function(){Ah(this)},bs.isActive=function(){return!!this.g},bs.da=function(){try{return 2<Oh(this)?this.g.status:-1}catch(t){return-1}},bs.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},bs.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),_h(e)}},bs.Ia=function(){return this.m},bs.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(bs=Mh.prototype).ra=8,bs.H=1,bs.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ya(this,this.l,t);let s=this.s;if(this.U&&(s?(s=uo(s),po(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Vh(this,r,e),Ha(n=xa(this.I),"RID",t),Ha(n,"CVER",22),this.F&&Ha(n,"X-HTTP-Session-Id",this.F),Hh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ph(s)))+"&"+e:this.o&&Lh(n,this.o,s)),hh(this.i,r),this.bb&&Ha(n,"TYPE","init"),this.P?(Ha(n,"$req",e),Ha(n,"SID","null"),r.aa=!0,Ia(r,n,null)):Ia(r,n,e),this.H=2}}else 3==this.H&&(t?Bh(this,t):0==this.j.length||sh(this.i)||Bh(this))},bs.Ma=function(){if(this.u=null,Kh(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ca(Ps(this.jb,this),t)}},bs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,aa(10),xh(this),Kh(this))},bs.ib=function(){null!=this.v&&(this.v=null,xh(this),Wh(this),aa(19))},bs.pb=function(t){t?(this.l.info("Successfully pinged google.com"),aa(2)):(this.l.info("Failed to ping google.com"),aa(1))},bs.isActive=function(){return!!this.h&&this.h.isActive(this)},(bs=tc.prototype).Ba=function(){},bs.Aa=function(){},bs.za=function(){},bs.ya=function(){},bs.isActive=function(){return!0},bs.Va=function(){},ec.prototype.g=function(t,e){return new nc(t,e)},Ds(nc,Oo),nc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;aa(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Qh(t,null,t.Y),jh(t)},nc.prototype.close=function(){Uh(this.g)},nc.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Lo(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&jh(e)},nc.prototype.N=function(){this.g.h=null,delete this.j,Uh(this.g),delete this.g,nc.$.N.call(this)},Ds(ic,ga),Ds(rc,ma),Ds(sc,tc),sc.prototype.Ba=function(){No(this.g,"a")},sc.prototype.Aa=function(t){No(this.g,new ic(t))},sc.prototype.za=function(t){No(this.g,new rc)},sc.prototype.ya=function(){No(this.g,"b")},Ds(oc,function(){this.blockSize=-1}),oc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},oc.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=n;)ac(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){ac(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){ac(this,i),r=0;break}}this.h=r,this.i+=e},oc.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var cc={};function lc(t){return-128<=t&&128>t?function(t){var e=cc;return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=function(t){return new hc([0|t],0>t?-1:0)}(t)}(t):new hc([0|t],0>t?-1:0)}function uc(t){if(isNaN(t)||!isFinite(t))return fc;if(0>t)return yc(uc(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=dc;return new hc(e,0)}var dc=4294967296,fc=lc(0),pc=lc(1),gc=lc(16777216);function mc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function vc(t){return-1==t.h}function yc(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new hc(n,~t.h).add(pc)}function wc(t,e){return t.add(yc(e))}function _c(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ec(t,e){this.g=t,this.h=e}function bc(t,e){if(mc(e))throw Error("division by zero");if(mc(t))return new Ec(fc,fc);if(vc(t))return e=bc(yc(t),e),new Ec(yc(e.g),yc(e.h));if(vc(e))return e=bc(t,yc(e)),new Ec(yc(e.g),e.h);if(30<t.g.length){if(vc(t)||vc(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pc,i=e;0>=i.X(t);)n=Ic(n),i=Ic(i);var r=Tc(n,1),s=Tc(i,1);for(i=Tc(i,2),n=Tc(n,2);!mc(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Tc(i,1),n=Tc(n,1)}return e=wc(t,r.R(e)),new Ec(r,e)}for(r=fc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=(s=uc(n)).R(e);vc(o)||0<o.X(t);)o=(s=uc(n-=i)).R(e);mc(s)&&(s=pc),r=r.add(s),t=wc(t,o)}return new Ec(r,t)}function Ic(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new hc(n,t.h)}function Tc(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new hc(r,t.h)}(bs=hc.prototype).ea=function(){if(vc(this))return-yc(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:dc+i)*e,e*=dc}return t},bs.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(mc(this))return"0";if(vc(this))return"-"+yc(this).toString(t);for(var e=uc(Math.pow(t,6)),n=this,i="";;){var r=bc(n,e).g,s=((0<(n=wc(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(mc(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},bs.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},bs.X=function(t){return vc(t=wc(this,t))?-1:mc(t)?0:1},bs.abs=function(){return vc(this)?yc(this):this},bs.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&t.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new hc(n,-2147483648&n[n.length-1]?-1:0)},bs.R=function(t){if(mc(this)||mc(t))return fc;if(vc(this))return vc(t)?yc(this).R(yc(t)):yc(yc(this).R(t));if(vc(t))return yc(this.R(yc(t)));if(0>this.X(gc)&&0>t.X(gc))return uc(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=t.D(r)>>>16,h=65535&t.D(r);n[2*i+2*r]+=o*h,_c(n,2*i+2*r),n[2*i+2*r+1]+=s*h,_c(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,_c(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,_c(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new hc(n,0)},bs.gb=function(t){return bc(this,t).h},bs.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new hc(n,this.h&t.h)},bs.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new hc(n,this.h|t.h)},bs.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new hc(n,this.h^t.h)},ec.prototype.createWebChannel=ec.prototype.g,nc.prototype.send=nc.prototype.u,nc.prototype.open=nc.prototype.m,nc.prototype.close=nc.prototype.close,la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,pa.OPEN="a",pa.CLOSE="b",pa.ERROR="c",pa.MESSAGE="d",Oo.prototype.listen=Oo.prototype.O,Eh.prototype.listenOnce=Eh.prototype.P,Eh.prototype.getLastError=Eh.prototype.Sa,Eh.prototype.getLastErrorCode=Eh.prototype.Ia,Eh.prototype.getStatus=Eh.prototype.da,Eh.prototype.getResponseJson=Eh.prototype.Wa,Eh.prototype.getResponseText=Eh.prototype.ja,Eh.prototype.send=Eh.prototype.ha,Eh.prototype.setWithCredentials=Eh.prototype.Oa,oc.prototype.digest=oc.prototype.l,oc.prototype.reset=oc.prototype.reset,oc.prototype.update=oc.prototype.j,hc.prototype.add=hc.prototype.add,hc.prototype.multiply=hc.prototype.R,hc.prototype.modulo=hc.prototype.gb,hc.prototype.compare=hc.prototype.X,hc.prototype.toNumber=hc.prototype.ea,hc.prototype.toString=hc.prototype.toString,hc.prototype.getBits=hc.prototype.D,hc.fromNumber=uc,hc.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return yc(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=uc(Math.pow(n,8)),r=fc,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),n);8>o?(o=uc(Math.pow(n,o)),r=r.R(o).add(uc(a))):r=(r=r.R(i)).add(uc(a))}return r};var Sc=hc;const Cc="@firebase/firestore";class Ac{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ac.UNAUTHENTICATED=new Ac(null),Ac.GOOGLE_CREDENTIALS=new Ac("google-credentials-uid"),Ac.FIRST_PARTY=new Ac("first-party-uid"),Ac.MOCK_USER=new Ac("mock-user");let kc="10.7.1";const Rc=new class{constructor(t){this.name=t,this._logLevel=ws,this._logHandler=Es,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vs))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?ys[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vs.DEBUG,...t),this._logHandler(this,vs.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vs.VERBOSE,...t),this._logHandler(this,vs.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vs.INFO,...t),this._logHandler(this,vs.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vs.WARN,...t),this._logHandler(this,vs.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vs.ERROR,...t),this._logHandler(this,vs.ERROR,...t)}}("@firebase/firestore");function Oc(t,...e){if(Rc.logLevel<=vs.DEBUG){const n=e.map(Pc);Rc.debug(`Firestore (${kc}): ${t}`,...n)}}function Nc(t,...e){if(Rc.logLevel<=vs.ERROR){const n=e.map(Pc);Rc.error(`Firestore (${kc}): ${t}`,...n)}}function Pc(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Lc(t="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+t;throw Nc(e),new Error(e)}function Dc(t,e){t||Lc()}const Mc="cancelled",Uc="invalid-argument",xc="failed-precondition",Fc="unavailable";class jc extends fs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bc{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Hc{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ac.UNAUTHENTICATED))}shutdown(){}}class $c{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Wc{constructor(t){this.t=t,this.currentUser=Ac.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new Bc;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Bc,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const e=r;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},o=t=>{Oc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(t=>o(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Oc("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Bc)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Oc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Dc("string"==typeof e.accessToken),new Hc(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dc(null===t||"string"==typeof t),new Ac(t)}}class zc{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Ac.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kc{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new zc(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ac.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qc{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gc{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&Oc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,Oc("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const i=t=>{Oc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit(t=>i(t)),setTimeout(()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?i(t):Oc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(Dc("string"==typeof t.token),this.R=t.token,new qc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jc(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class Xc{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=Jc(40);for(let i=0;i<n.length;++i)e.length<20&&n[i]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return e}}function Yc(t,e){return t<e?-1:t>e?1:0}class Qc{constructor(t,e,n){void 0===e?e=0:e>t.length&&Lc(),void 0===n?n=t.length-e:n>t.length-e&&Lc(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Qc.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qc?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Zc extends Qc{construct(t,e,n){return new Zc(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new jc(Uc,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new Zc(e)}static emptyPath(){return new Zc([])}}class tl{constructor(t){this.path=t}static fromPath(t){return new tl(Zc.fromString(t))}static fromName(t){return new tl(Zc.fromString(t).popFirst(5))}static empty(){return new tl(Zc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Zc.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Zc.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tl(new Zc(t.slice()))}}function el(t){return"IndexedDbTransactionError"===t.name}class nl{constructor(t,e){this.comparator=t,this.root=e||rl.EMPTY}insert(t,e){return new nl(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,rl.BLACK,null,null))}remove(t){return new nl(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rl.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new il(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new il(this.root,t,this.comparator,!1)}getReverseIterator(){return new il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new il(this.root,t,this.comparator,!0)}}class il{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rl{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:rl.RED,this.left=null!=i?i:rl.EMPTY,this.right=null!=r?r:rl.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new rl(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rl.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return rl.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lc();if(this.right.isRed())throw Lc();const t=this.left.check();if(t!==this.right.check())throw Lc();return t+(this.isRed()?0:1)}}rl.EMPTY=null,rl.RED=!0,rl.BLACK=!1,rl.EMPTY=new class{constructor(){this.size=0}get key(){throw Lc()}get value(){throw Lc()}get color(){throw Lc()}get left(){throw Lc()}get right(){throw Lc()}copy(t,e,n,i,r){return this}insert(t,e,n){return new rl(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sl{constructor(t){this.comparator=t,this.data=new nl(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ol(this.data.getIterator())}getIteratorFrom(t){return new ol(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof sl))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new sl(this.comparator);return e.data=t,e}}class ol{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class al extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hl{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new al("Invalid base64 string: "+t):t}}(t);return new hl(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new hl(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yc(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}function cl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}hl.EMPTY_BYTE_STRING=new hl(""),new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);class ll{constructor(t,e,n,i,r,s,o,a,h){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=h}}class ul{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ul&&t.projectId===this.projectId&&t.database===this.database}}var dl,fl;new nl(tl.comparator),new nl(tl.comparator),new nl(tl.comparator),new sl(tl.comparator),new sl(Yc),(fl=dl||(dl={}))[fl.OK=0]="OK",fl[fl.CANCELLED=1]="CANCELLED",fl[fl.UNKNOWN=2]="UNKNOWN",fl[fl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fl[fl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fl[fl.NOT_FOUND=5]="NOT_FOUND",fl[fl.ALREADY_EXISTS=6]="ALREADY_EXISTS",fl[fl.PERMISSION_DENIED=7]="PERMISSION_DENIED",fl[fl.UNAUTHENTICATED=16]="UNAUTHENTICATED",fl[fl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fl[fl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fl[fl.ABORTED=10]="ABORTED",fl[fl.OUT_OF_RANGE=11]="OUT_OF_RANGE",fl[fl.UNIMPLEMENTED=12]="UNIMPLEMENTED",fl[fl.INTERNAL=13]="INTERNAL",fl[fl.UNAVAILABLE=14]="UNAVAILABLE",fl[fl.DATA_LOSS=15]="DATA_LOSS",new Sc([4294967295,4294967295],0),Error;class pl{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(cl(t.integerValue));else if("doubleValue"in t){const n=cl(t.doubleValue);isNaN(n)?this.Tt(e,13):(this.Tt(e,15),function(t){return 0===t&&1/t==-1/0}(n)?e.Et(0):e.Et(n))}else if("timestampValue"in t){const n=t.timestampValue;this.Tt(e,20),"string"==typeof n?e.dt(n):(e.dt(`${n.seconds||""}`),e.Et(n.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(function(t){return"string"==typeof t?hl.fromBase64String(t):hl.fromUint8Array(t)}(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Tt(e,45),e.Et(n.latitude||0),e.Et(n.longitude||0)}else"mapValue"in t?function(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):Lc()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const n=t.fields||{};this.Tt(e,55);for(const t of Object.keys(n))this.At(t,e),this.Pt(n[t],e)}yt(t,e){const n=t.values||[];this.Tt(e,50);for(const t of n)this.Pt(t,e)}ft(t,e){this.Tt(e,37),tl.fromName(t).path.forEach(t=>{this.Tt(e,60),this.wt(t,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}pl.St=new pl,new Uint8Array(0);class gl{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new gl(t,gl.DEFAULT_COLLECTION_PERCENTILE,gl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ml(){return"undefined"!=typeof document?document:null}gl.DEFAULT_COLLECTION_PERCENTILE=10,gl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gl.DEFAULT=new gl(41943040,gl.DEFAULT_COLLECTION_PERCENTILE,gl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gl.DISABLED=new gl(-1,0,0);class vl{constructor(t,e,n=1e3,i=1.5,r=6e4){this.si=t,this.timerId=e,this.Fo=n,this.Mo=i,this.xo=r,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),i=Math.max(0,e-n);i>0&&Oc("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class yl{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Bc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new yl(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jc(Mc,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class wl{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Ac.UNAUTHENTICATED,this.clientId=Xc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async t=>{Oc("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(Oc("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jc(xc,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=function(t,e){if(Nc("AsyncQueue",`${e}: ${t}`),el(t))return new jc(Fc,`${e}: ${t}`);throw t}(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}function _l(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const El=new Map;function bl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new jc(Uc,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Lc()}(t);throw new jc(Uc,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Il{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new jc(Uc,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jc(Uc,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new jc(Uc,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_l(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new jc(Uc,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new jc(Uc,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new jc(Uc,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tl{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Il({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new jc(xc,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new jc(xc,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Il(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Vc;switch(t.type){case"firstParty":return new Kc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new jc(Uc,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=El.get(t);e&&(Oc("ComponentProvider","Removing Datastore"),El.delete(t),e.terminate())}(this),Promise.resolve()}}class Sl{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new vl(this,"async_queue_retry"),this.iu=()=>{const t=ml();t&&Oc("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const t=ml();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=ml();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new Bc;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!el(t))throw t;Oc("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(t=>{this.eu=t,this.tu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Nc("INTERNAL UNHANDLED ERROR: ",e),t}).then(t=>(this.tu=!1,t))));return this.Ja=e,e}enqueueAfterDelay(t,e,n){this.su(),this.ru.indexOf(t)>-1&&(e=0);const i=yl.createAndSchedule(this,t,e,n,t=>this.au(t));return this.Xa.push(i),i}su(){this.eu&&Lc()}verifyOperationInProgress(){}async uu(){let t;do{t=this.Ja,await t}while(t!==this.Ja)}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class Cl extends Tl{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Sl,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function(t){var e,n,i;const r=t._freezeSettings(),s=function(t,e,n,i){return new ll(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,_l(i.experimentalLongPollingOptions),i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new wl(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}new RegExp("[~\\*/\\[\\]]"),new WeakMap,function(t,e=!0){!function(t){kc=t}(bt),yt(new ms("firestore",(t,{instanceIdentifier:n,options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Cl(new Wc(t.getProvider("auth-internal")),new Gc(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new jc(Uc,'"projectId" not provided in firebase.initializeApp.');return new ul(t.options.projectId,e)}(r,n),r);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),St(Cc,"4.4.0",t),St(Cc,"4.4.0","esm2017")}();const Al=It({apiKey:"AIzaSyCh5w0Vljp-7dV_Ui_8gTXj_WKF5TyEToA",authDomain:"wilson-health-care.firebaseapp.com",projectId:"wilson-health-care",storageBucket:"wilson-health-care.firebasestorage.app",messagingSenderId:"60179173764",appId:"1:60179173764:web:adfda13ac51d1140a00dd1",measurementId:"G-KT8FX5KZEB"});(function(t=Tt()){const e=wt(t=qt(t),"analytics");e.isInitialized()?e.getImmediate():function(t,e={}){const n=wt(t,"analytics");if(n.isInitialized()){const t=n.getImmediate();if(Wt(e,n.getOptions()))return t;throw He.create("already-initialized")}n.initialize({options:e})}(t)})(Al),function(t=Tt()){const e=wt(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vi(t,{popupRedirectResolver:rs,persistence:[kr,fr,gr]}),i=fn("authTokenSyncURL");if(i){const t=(r=i,async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>as)return;const i=null==e?void 0:e.token;hs!==i&&(hs=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});(function(t,e,n){Sn(t).beforeAuthStateChanged(e,n)})(n,t,()=>t(n.currentUser)),function(t,e){Sn(t).onIdTokenChanged(e,void 0,void 0)}(n,e=>t(e))}var r;const s=null===(a=null===(o=dn())||void 0===o?void 0:o.emulatorHosts)||void 0===a?void 0:a.auth;var o,a;s&&function(t,e){const n=Mi(t);jn(n._canInitEmulator,n,"emulator-config-failed"),jn(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,r=$i(e),{host:s,port:o}=function(t){const e=$i(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:Wi(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:Wi(e)}}}(e),a=null===o?"":`:${o}`;n.config.emulator={url:`${r}//${s}${a}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${s}`)}(Al),function(e){const n="string"==typeof e?e:"(default)",i=wt("object"==typeof e?e:Tt(),"firestore").getImmediate({identifier:n});if(!i._initialized){const e=(()=>{const e=(e=>{var n,i;return null===(i=null===(n=(()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t.g)return t.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&function(t){try{return ls.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}})())||void 0===n?void 0:n.emulatorHosts)||void 0===i?void 0:i[e]})("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]})();e&&function(t,e,n,i={}){var r;const s=(t=bl(t,Tl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function(t,...e){if(Rc.logLevel<=vs.WARN){const n=e.map(Pc);Rc.warn(`Firestore (${kc}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Ac.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ds(JSON.stringify({alg:"none",type:"JWT"})),ds(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new jc(Uc,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ac(s)}t._authCredentials=new $c(new Hc(e,n))}}(i,...e)}}(Al),new rr})();